<!doctype html><meta charset="utf-8"/>
<title>Start Here · DecisionHub</title>
<style>
 body{background:#0f172a;color:#e2e8f0;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0}
 header{padding:14px 18px;border-bottom:1px solid #1f2937;display:flex;gap:12px;align-items:center}
 main{padding:16px;display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
 a.card{display:block;padding:14px 16px;border:1px solid #1f2937;border-radius:12px;text-decoration:none;color:#e2e8f0;background:#0b1220}
 a.card:hover{background:#0e1628}
 .muted{color:#94a3b8;font-size:12px}
 .pill{padding:2px 8px;border-radius:9999px;background:#111827;margin-left:8px;font-size:12px}
 .err{background:#7f1d1d;color:#fee2e2;padding:8px 10px;border-radius:8px;font-size:13px}
</style>
<header>
  <strong>DecisionHub · Start Here</strong>
  <span class="muted" id="meta"></span>
  <span class="muted" id="cfgpath"></span>
</header>
<main id="grid"></main>
<div id="error" style="padding:12px 16px"></div>
<script>
(async () => {
  const qs=new URLSearchParams(location.search);
  const cfgUrl = qs.get('config') || '/config/decisionhub.config.json';
  document.getElementById('cfgpath').textContent = `— config: ${cfgUrl}`;
  const grid=document.getElementById('grid'), meta=document.getElementById('meta'), err=document.getElementById('error');
  try{
    const res = await fetch(cfgUrl);
    if(!res.ok){ throw new Error(`HTTP ${res.status}`); }
    const cfg = await res.json();
    const tools = Array.isArray(cfg.tools) ? cfg.tools.filter(t=>t.enabled!==false) : [];
    meta.textContent = `— ${cfg.title||'DecisionHub'} (${tools.length} tools)`;
    tools.forEach(t=>{
      const a=document.createElement('a'); a.className='card'; a.href=t.href; a.target='_blank';
      a.innerHTML = `<div><strong>${t.name||t.key}</strong><span class="pill">${t.badge||''}</span></div>
                     <div class="muted">${t.key||''}</div>`;
      grid.appendChild(a);
    });
    if(tools.length===0){ err.innerHTML='<div class="err">No tools[] found in config.</div>'; }
  }catch(e){
    err.innerHTML = `<div class="err">Failed to load config: ${e.message}</div>`;
  }
})();
</script>
